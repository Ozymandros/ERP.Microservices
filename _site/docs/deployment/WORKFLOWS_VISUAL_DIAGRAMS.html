<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>&#127919; GitHub Actions Workflows - Visual Diagrams | ERP Microservices Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="&#127919; GitHub Actions Workflows - Visual Diagrams | ERP Microservices Documentation ">
      
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/Ozymandros/ERP.Microservices/blob/main/docs/deployment/WORKFLOWS_VISUAL_DIAGRAMS.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.svg" alt="ERP Microservices">
            ERP Microservices
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="-github-actions-workflows---visual-diagrams">ğŸ¯ GitHub Actions Workflows - Visual Diagrams</h1>

<p><strong>Quick Visual Reference for CI/CD Pipeline</strong></p>
<hr>
<h2 id="1-overall-workflow-trigger-strategy">1ï¸âƒ£ Overall Workflow Trigger Strategy</h2>
<pre><code>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ              GITHUB REPOSITORY EVENTS                 â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Pull Request   â”‚
    â”‚ (any branch)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ Triggers
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   dotnet.yml        â”‚
    â”‚  (15 min)           â”‚
    â”‚ âœ… Restore          â”‚
    â”‚ âœ… Build            â”‚
    â”‚ âœ… Test             â”‚
    â”‚ âŒ No Deploy        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Push to        â”‚
    â”‚  develop        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ Triggers
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ azure-dev.yml       â”‚
    â”‚  (42 min)           â”‚
    â”‚ âœ… Test             â”‚
    â”‚ âœ… Build Images (7) â”‚
    â”‚ âœ… Deploy to DEV    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Push to        â”‚
    â”‚  main           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ Triggers
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ azure-deploy.yml    â”‚
    â”‚  (47 min)           â”‚
    â”‚ âœ… Test (strict)    â”‚
    â”‚ âœ… Build Images (7) â”‚
    â”‚ âœ… Deploy to PROD   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr>
<h2 id="2-development-workflow-pull-request--develop--main">2ï¸âƒ£ Development Workflow (Pull Request â†’ Develop â†’ Main)</h2>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: Developer creates feature branch &amp; commits code          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: Push to GitHub &amp; Create Pull Request                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                      â”‚
    â–¼                                      â–¼
    
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Branch exists  â”‚            â”‚ GitHub detects PR    â”‚
  â”‚  (local)        â”‚            â”‚                      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                               â”‚
           â–¼                               â–¼
           
   CHECKOUT &amp; SETUP              WORKFLOW TRIGGERED
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  dotnet.yml             â”‚   â”‚  Branch: PR to develop   â”‚
   â”‚  (in GitHub)            â”‚   â”‚  Files changed detected  â”‚
   â”‚                         â”‚   â”‚                          â”‚
   â”‚  Job: test              â”‚   â”‚  Auto-triggered by GitHubâ”‚
   â”‚  â”œâ”€ Restore (-2s âš¡)   â”‚   â”‚                          â”‚
   â”‚  â”œâ”€ Build (5 min)      â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚  â”œâ”€ Test (8 min)       â”‚               â”‚
   â”‚  â””â”€ âœ… PASS (15 min)  â”‚               â–¼
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚  GitHub Status Check     â”‚
                                   â”‚  (shows in PR)           â”‚
                                   â”‚                          â”‚
                                   â”‚  âœ… All checks passed    â”‚
                                   â”‚  &quot;Ready to merge&quot;        â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚  Code Review (optional)  â”‚
                                   â”‚  - Reviewer approves     â”‚
                                   â”‚  - Maintainer merges     â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: Merge to develop (automatic workflow trigger)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                            â”‚
    â–¼                                                            â”‚
    
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  azure-dev.yml TRIGGERED                               â”‚   â”‚
  â”‚  (Branch: develop)                                     â”‚   â”‚
  â”‚  â—„â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚   â”‚
  â”‚                                                        â”‚   â”‚
  â”‚  PHASE 1: TEST (5 min)                                â”‚   â”‚
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                           â”‚   â”‚
  â”‚  â”œâ”€ Checkout                                         â”‚   â”‚
  â”‚  â”œâ”€ Setup .NET (8, 9)                               â”‚   â”‚
  â”‚  â”œâ”€ Cache NuGet                                      â”‚   â”‚
  â”‚  â”œâ”€ Restore &amp; Build (Release)                        â”‚   â”‚
  â”‚  â””â”€ Run tests (continue-on-error: true)             â”‚   â”‚
  â”‚     â””â”€ âœ… Phase 1 complete                           â”‚   â”‚
  â”‚                                                        â”‚   â”‚
  â”‚  PHASE 2: BUILD IMAGES (7 parallel, 12 min)         â”‚   â”‚
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚   â”‚
  â”‚  â”‚                                                    â”‚   â”‚
  â”‚  â”œâ”€ Job[0]: auth-service                           â”‚   â”‚
  â”‚  â”‚  â”œâ”€ Checkout                                     â”‚   â”‚
  â”‚  â”‚  â”œâ”€ Azure login (federated)                      â”‚   â”‚
  â”‚  â”‚  â”œâ”€ ACR login                                    â”‚   â”‚
  â”‚  â”‚  â”œâ”€ az acr build                                 â”‚   â”‚
  â”‚  â”‚  â”‚  â”œâ”€ docker build (cache âš¡)                  â”‚   â”‚
  â”‚  â”‚  â”‚  â”œâ”€ --image auth-service:latest              â”‚   â”‚
  â”‚  â”‚  â”‚  â”œâ”€ --image auth-service:a1b2c3d             â”‚   â”‚
  â”‚  â”‚  â”‚  â””â”€ Push to ACR                               â”‚   â”‚
  â”‚  â”‚  â””â”€ âœ… Complete                                  â”‚   â”‚
  â”‚  â”‚                                                    â”‚   â”‚
  â”‚  â”œâ”€ Job[1]: billing-service   â”                     â”‚   â”‚
  â”‚  â”œâ”€ Job[2]: inventory-service â”‚ All 7 in PARALLEL  â”‚   â”‚
  â”‚  â”œâ”€ Job[3]: orders-service    â”‚ (2 min each)       â”‚   â”‚
  â”‚  â”œâ”€ Job[4]: purchasing-serviceâ”‚ = 12 min total    â”‚   â”‚
  â”‚  â”œâ”€ Job[5]: sales-service     â”‚ (not 14 min âš¡)   â”‚   â”‚
  â”‚  â””â”€ Job[6]: erp-api-gateway   â”˜                     â”‚   â”‚
  â”‚     â””â”€ âœ… All images ready                          â”‚   â”‚
  â”‚                                                        â”‚   â”‚
  â”‚  PHASE 3: DEPLOY (15 min)                            â”‚   â”‚
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”‚   â”‚
  â”‚  â”œâ”€ Checkout                                         â”‚   â”‚
  â”‚  â”œâ”€ Install azd                                      â”‚   â”‚
  â”‚  â”œâ”€ Azure login (federated)                          â”‚   â”‚
  â”‚  â”œâ”€ azd provision                                    â”‚   â”‚
  â”‚  â”‚  â””â”€ Create infrastructure (ResourceGroups, SQL,   â”‚   â”‚
  â”‚  â”‚     Redis, Container Apps, etc)                  â”‚   â”‚
  â”‚  â”œâ”€ azd deploy                                       â”‚   â”‚
  â”‚  â”‚  â””â”€ Pull images from ACR &amp; deploy                â”‚   â”‚
  â”‚  â”œâ”€ Verify deployment                               â”‚   â”‚
  â”‚  â””â”€ âœ… DEV Environment Ready                        â”‚   â”‚
  â”‚                                                        â”‚   â”‚
  â”‚  Total: 5 + 12 + 15 = 42 minutes                    â”‚   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                                                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 4: Create PR from develop â†’ main (same as Step 2)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  dotnet.yml         â”‚
  â”‚  (PR validation)    â”‚
  â”‚  âœ… Tests pass      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ PR Approved    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 5: Merge to main (PRODUCTION deployment)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  azure-deploy.yml TRIGGERED                            â”‚
  â”‚  (Branch: main / PRODUCTION)                           â”‚
  â”‚  â—„â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
  â”‚                                                        â”‚
  â”‚  PHASE 1: TEST (STRICT: must pass) (5 min)           â”‚
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚
  â”‚  â”œâ”€ Continue-on-error: FALSE â† FAIL STOPS DEPLOY    â”‚
  â”‚  â””â”€ âœ… All tests pass (required)                    â”‚
  â”‚                                                        â”‚
  â”‚  PHASE 2: BUILD IMAGES (12 min, 7 parallel)         â”‚
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
  â”‚  â”œâ”€ Same matrix as dev (auth, billing, etc)         â”‚
  â”‚  â”œâ”€ Push to PRODUCTION ACR (different registry)     â”‚
  â”‚  â””â”€ âœ… All images tagged &amp; pushed                   â”‚
  â”‚                                                        â”‚
  â”‚  PHASE 3: DEPLOY (20 min, strict)                   â”‚
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚
  â”‚  â”œâ”€ azd provision (production setup)                â”‚
  â”‚  â”‚  â””â”€ Production resource group &amp; configs         â”‚
  â”‚  â”œâ”€ azd deploy (production deployment)              â”‚
  â”‚  â”‚  â””â”€ Blue-green ready, canary capable            â”‚
  â”‚  â””â”€ âœ… PRODUCTION Ready                            â”‚
  â”‚                                                        â”‚
  â”‚  Total: 5 + 12 + 20 = 47 minutes                    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ âœ… ALL SERVICES IN PRODUCTION        â”‚
  â”‚ (7 services running at scale)        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr>
<h2 id="3-parallel-execution-timeline">3ï¸âƒ£ Parallel Execution Timeline</h2>
<pre><code>DEVELOPMENT WORKFLOW (from develop branch push)

TIME    PHASE 1           PHASE 2 (Matrix)                   PHASE 3
â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€
0:00                      
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”         
        â”‚ START â”‚         
        â”‚ test  â”‚         
        â”‚ job   â”‚         
        â”‚       â”‚         
5:00    â”‚  âœ…   â”‚         
        â”‚ END   â”‚         
        â””â”€â”€â”€â”¬â”€â”€â”€â”˜         
            â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚         â”‚ PARALLEL BUILD MATRIX          â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ (7 jobs simultaneous)          â”‚
            â”‚         â”‚                                â”‚
            â”‚         â”‚ auth-service                   â”‚
            â”‚         â”‚ billing-service                â”‚
            â”‚         â”‚ inventory-service              â”‚
            â”‚         â”‚ orders-service                 â”‚
            â”‚         â”‚ purchasing-service             â”‚
            â”‚         â”‚ sales-service                  â”‚
            â”‚         â”‚ erp-api-gateway                â”‚
            â”‚         â”‚                                â”‚
17:00       â”‚         â”‚ (Each ~2 min)                  â”‚
            â”‚         â”‚ (All parallel = 2 min âš¡)      â”‚
            â”‚         â”‚                                â”‚
            â”‚         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚              â”‚
            â”‚              â”‚ All images ready
            â”‚              â”‚
            â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚              â”‚              â”‚ PHASE 3: DEPLOYâ”‚
            â”‚              â”‚              â”‚ (15 min)       â”‚
            â”‚              â”‚              â”‚ - azd provisionâ”‚
            â”‚              â”‚              â”‚ - azd deploy   â”‚
            â”‚              â”‚              â”‚ - verify       â”‚
            â”‚              â”‚              â”‚                â”‚
32:00       â”‚              â”‚              â”‚ âœ… COMPLETE   â”‚
            â”‚              â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚              â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   42 min total

EXECUTION SAVINGS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Sequential:     5 + (7Ã—2) + 15 = 34 min + waiting = ~42 min
But if sequential: 5 + 14 + 15 = 34 min (without matrix benefits)

âš¡ Matrix parallelization saves ~12 minutes!
</code></pre>
<hr>
<h2 id="4-job-dependency-graph">4ï¸âƒ£ Job Dependency Graph</h2>
<pre><code>azure-dev.yml &amp; azure-deploy.yml structure:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                         â”‚
â”‚  job: test                                              â”‚
â”‚  â”œâ”€ No dependencies                                     â”‚
â”‚  â”œâ”€ Starts immediately                                  â”‚
â”‚  â””â”€ Completes in ~5 min                                â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚                              â”‚                      â”‚
â”‚  â–¼                              â–¼                      â”‚
â”‚                                                         â”‚
â”‚  job: build-images             (needs: test)           â”‚
â”‚  â”œâ”€ Matrix: 7 parallel jobs                            â”‚
â”‚  â”œâ”€ Each service independent                           â”‚
â”‚  â”œâ”€ Start after test complete                          â”‚
â”‚  â””â”€ All complete in ~12 min                            â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚      All 7 images done        â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                 â”‚                                      â”‚
â”‚                 â–¼                                      â”‚
â”‚                                                         â”‚
â”‚  job: deploy                   (needs: build-images)   â”‚
â”‚  â”œâ”€ Single sequential job                              â”‚
â”‚  â”œâ”€ Provision infrastructure                           â”‚
â”‚  â”œâ”€ Deploy services                                    â”‚
â”‚  â””â”€ Completes in ~15 min                              â”‚
â”‚                                                         â”‚
â”‚  âœ… Deployment complete                                â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

YAML representation:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
jobs:
  test:
    runs-on: ubuntu-latest
    # No dependencies
    
  build-images:
    needs: test           â† Waits for test to complete
    strategy:
      matrix:
        service: [...]    â† 7 jobs in parallel
        
  deploy:
    needs: build-images   â† Waits for all 7 images
</code></pre>
<hr>
<h2 id="5-docker-image-tagging-strategy">5ï¸âƒ£ Docker Image Tagging Strategy</h2>
<pre><code>Each image gets TWO tags:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SERVICE: auth-service                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  ACR Build Command:                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚  az acr build \                            â”‚
â”‚    --image auth-service:latest \           â”‚
â”‚    --image auth-service:&lt;commit-sha&gt; \    â”‚
â”‚    --file Dockerfile                       â”‚
â”‚                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Result: TWO IMAGES IN ACR                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚
â”‚                                            â”‚
â”‚  1. auth-service:latest                   â”‚
â”‚     â”œâ”€ Always points to most recent build â”‚
â”‚     â”œâ”€ Used by &quot;latest&quot; deployments       â”‚
â”‚     â””â”€ Example: Can be replaced daily     â”‚
â”‚                                            â”‚
â”‚  2. auth-service:a1b2c3d7 (commit SHA)    â”‚
â”‚     â”œâ”€ Points to specific commit          â”‚
â”‚     â”œâ”€ Immutable tag                      â”‚
â”‚     â”œâ”€ For production tracing             â”‚
â”‚     â””â”€ Example: rollback to specific ver  â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Benefits:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Can quickly identify which build is running
âœ… Can rollback to any specific commit
âœ… Debugging is easier (&quot;it was from build a1b2c3d7&quot;)
âœ… Production stability (&quot;pin to specific commit&quot;)
</code></pre>
<hr>
<h2 id="6-federated-credentials-flow">6ï¸âƒ£ Federated Credentials Flow</h2>
<pre><code>GitHub Actions Workflow Step:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Step: &quot;Log in with Azure (Federated Credentials)&quot;

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  GitHub Action Pushes Event             â”‚
  â”‚  â”œâ”€ Event: push to develop              â”‚
  â”‚  â”œâ”€ Repository: Ozymandros/ERP.Micro...â”‚
  â”‚  â”œâ”€ Branch: develop                     â”‚
  â”‚  â””â”€ Signed by: GitHub certificate      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Azure AD (Entra ID) Receives Request    â”‚
  â”‚  â”œâ”€ Provider: github.com                â”‚
  â”‚  â”œâ”€ Subject: &lt;github-org&gt;/&lt;repository&gt; â”‚
  â”‚  â”œâ”€ Certificate chain validation        â”‚
  â”‚  â””â”€ OIDC token validation               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Azure AD Issues Access Token            â”‚
  â”‚  â”œâ”€ Audience: Azure API                 â”‚
  â”‚  â”œâ”€ Subject: GitHub Actions            â”‚
  â”‚  â”œâ”€ Duration: 1 hour                    â”‚
  â”‚  â”œâ”€ Scope: AZURE_SUBSCRIPTION_ID        â”‚
  â”‚  â””â”€ âš ï¸ NO STORED SECRETS NEEDED        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Workflow Uses Token                     â”‚
  â”‚  â”œâ”€ azd auth login ...                   â”‚
  â”‚  â”œâ”€ az acr login ...                     â”‚
  â”‚  â”œâ”€ az ... (any Azure command)           â”‚
  â”‚  â””â”€ âœ… Authenticated to Azure            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Security Benefits:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… No secrets stored in GitHub
âœ… No credentials in logs
âœ… Time-limited tokens (1 hour)
âœ… Automatic renewal per job
âœ… Tied to specific branch
âœ… Tied to specific repository
</code></pre>
<hr>
<h2 id="7-failure-scenarios">7ï¸âƒ£ Failure Scenarios</h2>
<pre><code>DEVELOPMENT (azure-dev.yml):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Test Phase Fails:
  â”‚
  â”œâ”€ continue-on-error: true  â† Doesn't stop
  â”‚
  â”œâ”€â†’ Build Images Phase: âœ… CONTINUES
  â”‚   (Images built despite test failure)
  â”‚
  â””â”€â†’ Deploy Phase: âœ… CONTINUES
      (Deployment proceeds to DEV)
      
  âš ï¸ Risk: DEV may have broken code


Image Build Fails (e.g., billing-service):
  â”‚
  â”œâ”€ fail-fast: false  â† Other builds continue
  â”‚
  â”œâ”€â†’ auth-service: âœ… Continues
  â”œâ”€â†’ billing-service: âŒ FAILED
  â”œâ”€â†’ inventory-service: âœ… Continues
  â”‚   ... (remaining services)
  â”‚
  â””â”€â†’ Deploy Phase: âŒ BLOCKED
      (Deployment blocked if any image missing)


PRODUCTION (azure-deploy.yml):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Test Phase Fails:
  â”‚
  â”œâ”€ continue-on-error: FALSE  â† STOPS HERE
  â”‚
  â”œâ”€â†’ Build Images Phase: âŒ SKIPPED
  â”‚   (No images built)
  â”‚
  â””â”€â†’ Deploy Phase: âŒ SKIPPED
      (No deployment to production)
      
  âœ… Production protected


Image Build Fails:
  â”‚
  â”œâ”€ fail-fast: false  â† Other builds continue
  â”‚
  â””â”€â†’ Deploy Phase: âŒ BLOCKED
      (Missing images = no deployment)
      
  âœ… Partial deployments prevented
</code></pre>
<hr>
<h2 id="8-caching-strategy">8ï¸âƒ£ Caching Strategy</h2>
<pre><code>Workflow Caching for NuGet Packages:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

First Run (no cache):
  â”‚
  â”œâ”€â†’ Restore: Download all packages â†’ 60s
  â”‚
  â””â”€â†’ cache action stores ~/.nuget/packages
      Key: ubunut-nuget-&lt;csproj-hash&gt;


Second Run (cache hit âš¡):
  â”‚
  â”œâ”€â†’ Cache restored: ~/.nuget/packages
  â”‚   â””â”€ Hit: ~2s instead of 60s
  â”‚
  â””â”€â†’ Restore: Verify packages â†’ 10s total
      (58s faster!)


Third Run (different csproj):
  â”‚
  â”œâ”€â†’ Cache key mismatch
  â”‚   (different hash = different cache)
  â”‚
  â”œâ”€â†’ restore-keys used: ubunut-nuget-
  â”‚   â””â”€ Partial match: 30s (some packages reused)
  â”‚
  â””â”€â†’ New packages downloaded


Benefits:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Speeds up workflow by ~50s per run
âœ… Reduces GitHub bandwidth
âœ… Faster CI/CD feedback to developers
âœ… Automatic invalidation on csproj changes
</code></pre>
<hr>
<h2 id="9-branch-strategy-summary">9ï¸âƒ£ Branch Strategy Summary</h2>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BRANCH FLOW DIAGRAM                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                        Feature/Dev Work
                        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                        
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ feature/my-feature â†˜    â”‚
â”‚ (local development)  \  â”‚
â”‚                       \ â”‚
â”‚ commits &amp; pushes        â”‚
â”‚        â”‚                â”‚
â”‚        â–¼                â”‚
â”‚ Push to GitHub          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CREATE PULL REQUEST                 â”‚
â”‚ (feature/my-feature â†’ develop)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WORKFLOW: dotnet.yml                     â”‚
â”‚ â”œâ”€ Restore                               â”‚
â”‚ â”œâ”€ Build                                 â”‚
â”‚ â”œâ”€ Test                    (15 min)      â”‚
â”‚ â””â”€ Status Check: âœ… PASS                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ REVIEW &amp; APPROVAL                        â”‚
â”‚ (optional: code review, discussions)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MERGE TO develop                         â”‚
â”‚ (feature/my-feature â†’ develop)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WORKFLOW: azure-dev.yml            â”‚
â”‚ â”œâ”€ Test          (5 min)           â”‚
â”‚ â”œâ”€ Build Images  (12 min)          â”‚
â”‚ â””â”€ Deploy to DEV (15 min)  (42min) â”‚
â”‚    Status: âœ… DEPLOYED to dev      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ After dev verification
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CREATE PULL REQUEST                  â”‚
â”‚ (develop â†’ main)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WORKFLOW: dotnet.yml                     â”‚
â”‚ (Same validation as before)              â”‚
â”‚ Status Check: âœ… PASS                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ REVIEW &amp; FINAL APPROVAL                  â”‚
â”‚ (Required for production)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MERGE TO main                            â”‚
â”‚ (develop â†’ main)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WORKFLOW: azure-deploy.yml         â”‚
â”‚ â”œâ”€ Test (strict)  (5 min)          â”‚
â”‚ â”œâ”€ Build Images   (12 min)         â”‚
â”‚ â””â”€ Deploy to PROD (20 min) (47min) â”‚
â”‚    Status: âœ… DEPLOYED to prod     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
   âœ… PRODUCTION READY
</code></pre>
<hr>
<h2 id="-environment-comparison">ğŸ”Ÿ Environment Comparison</h2>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ENVIRONMENT DIFFERENCES                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚                     DEV         PROD                        â”‚
â”‚                     â”€â”€â”€         â”€â”€â”€â”€                        â”‚
â”‚  Trigger Branch:    develop     main                       â”‚
â”‚  Workflow:          azure-dev   azure-deploy              â”‚
â”‚  Time:              42 min      47 min                     â”‚
â”‚  Test strictness:   lenient     strict                     â”‚
â”‚  ACR Registry:      dev         prod                       â”‚
â”‚  Resource Tier:     Standard    Premium                    â”‚
â”‚  Replicas:          1-2         3+                        â”‚
â”‚  Database:          Basic       Premium                    â”‚
â”‚  SLA:               None        99.95%                     â”‚
â”‚  Monitoring:        App Insights (both)                    â”‚
â”‚  Alerts:            Dev team    On-call team              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr>
<p><strong>Last Updated:</strong> October 31, 2025<br>
<strong>Status:</strong> âœ… Complete with visual references</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/Ozymandros/ERP.Microservices/blob/main/docs/deployment/WORKFLOWS_VISUAL_DIAGRAMS.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          ERP Microservices - A cloud-native ERP system built with .NET 9
        </div>
      </div>
    </footer>
  </body>
</html>
